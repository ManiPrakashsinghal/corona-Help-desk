{"version":3,"sources":["./src/app/registration/registration.page.html","./src/app/registration/registration-routing.module.ts","./src/app/registration/registration.module.ts","./src/app/registration/registration.page.scss","./src/app/registration/registration.page.ts"],"names":[],"mappings":"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","file":"registration-registration-module.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Registration</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n<form [formGroup]=\\\"registrationForm\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row color=\\\"primary\\\" class=\\\"ion-justify-content-center\\\">\\r\\n      <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\r\\n        <div text-center>\\r\\n          <h3>Enter your details.</h3>\\r\\n        </div>\\r\\n        <div padding>\\r\\n          <ion-item>\\r\\n            <ion-input name=\\\"name\\\" type=\\\"text\\\" placeholder=\\\"Name\\\" formControlName=\\\"name\\\" required></ion-input>\\r\\n          </ion-item>\\r\\n          <!-- Error messages -->\\r\\n            <ion-text color=\\\"danger\\\" *ngIf=\\\"errorControl.name.errors?.required && errorControl.name.dirty\\\">\\r\\n              <p>Name is required.</p>\\r\\n            </ion-text>\\r\\n            <ion-text color=\\\"danger\\\" *ngIf=\\\"errorControl.name.errors?.minlength && errorControl.name.dirty\\\">\\r\\n              <p>Name should be min 2 chars long.</p>\\r\\n            </ion-text>\\r\\n          <ion-item>\\r\\n            <ion-input name=\\\"phoneNo\\\" type=\\\"number\\\" placeholder=\\\"+91\\\" formControlName=\\\"phoneNo\\\" required></ion-input>\\r\\n          </ion-item>\\r\\n          <!-- Error messages -->\\r\\n          <ion-text color=\\\"danger\\\" *ngIf=\\\"errorControl.phoneNo.errors?.required && errorControl.phoneNo.dirty\\\">\\r\\n            <p>Phone Number is required.</p>\\r\\n          </ion-text>\\r\\n          <ion-text color=\\\"danger\\\" *ngIf=\\\"(errorControl.phoneNo.errors?.minlength || errorControl.phoneNo.errors?.maxlength) && errorControl.phoneNo8.dirty\\\">\\r\\n            <p>Phone number should be 10 Digits</p>\\r\\n          </ion-text>\\r\\n          <ion-item>\\r\\n            <ion-input name=\\\"pinCode\\\" type=\\\"number\\\" placeholder=\\\"Pin code\\\" formControlName=\\\"pinCode\\\" required></ion-input>\\r\\n          </ion-item>\\r\\n          <!-- Error messages -->\\r\\n          <ion-text color=\\\"danger\\\" *ngIf=\\\"errorControl.pinCode.errors?.required && errorControl.pinCode.dirty\\\">\\r\\n            <p>Pin Code is required.</p>\\r\\n          </ion-text>\\r\\n          <ion-text color=\\\"danger\\\" *ngIf=\\\"(errorControl.pinCode.errors?.minlength || errorControl.pinCode.errors?.maxlength) && errorControl.pinCode.dirty\\\">\\r\\n            <p>Pin Code should be 6 Digits</p>\\r\\n          </ion-text>\\r\\n          <ion-item>\\r\\n            <ion-input name=\\\"title\\\" type=\\\"text\\\" placeholder=\\\"Title\\\" formControlName=\\\"title\\\" required></ion-input>\\r\\n          </ion-item>\\r\\n          <!-- Error messages -->\\r\\n          <ion-text color=\\\"danger\\\" *ngIf=\\\"errorControl.title.errors?.required && errorControl.title.dirty\\\">\\r\\n            <p>Title is required.</p>\\r\\n          </ion-text>\\r\\n          <ion-item>\\r\\n            <ion-textarea name=\\\"address\\\" placeholder=\\\"Enter your address\\\" formControlName=\\\"address\\\" required></ion-textarea>\\r\\n          </ion-item>\\r\\n          <ion-text color=\\\"danger\\\" *ngIf=\\\"errorControl.address.errors?.required && errorControl.address.dirty\\\">\\r\\n            <p>Address is required.</p>\\r\\n          </ion-text>\\r\\n          <ion-item>\\r\\n            <ion-textarea name=\\\"description\\\" placeholder=\\\"Enter Detail\\\" formControlName=\\\"description\\\" required></ion-textarea>\\r\\n          </ion-item>\\r\\n          <ion-text color=\\\"danger\\\" *ngIf=\\\"errorControl.description.errors?.required && errorControl.description.dirty\\\">\\r\\n            <p>Description is required.</p>\\r\\n          </ion-text>\\r\\n          <!-- <ion-item>\\r\\n            <ion-label>Select State</ion-label>\\r\\n            <ion-select name=\\\"Select State\\\" placeholder=\\\"Select State\\\">\\r\\n              <ion-select-option value=\\\"null\\\" >--Select State--</ion-select-option>\\r\\n              <ion-select-option *ngFor=\\\"let state of statewiseCities; let i = index\\\" [value]=\\\"state[i]\\\">{{state[i]}}</ion-select-option>\\r\\n            </ion-select>\\r\\n          </ion-item> -->\\r\\n        </div>\\r\\n        <div padding>\\r\\n          <ion-button size=\\\"large\\\" type=\\\"submit\\\" expand=\\\"block\\\" *ngIf=\\\"mode=='getHelp'\\\" [disabled]=\\\"registrationForm.invalid\\\" (click)=\\\"register('getHelp')\\\">I need help</ion-button>\\r\\n          <ion-button size=\\\"large\\\" type=\\\"submit\\\" expand=\\\"block\\\" *ngIf=\\\"mode=='doHelp'\\\" [disabled]=\\\"registrationForm.invalid\\\" (click)=\\\"register('doHelp')\\\">I want to help</ion-button>\\r\\n        </div>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</form>\\r\\n{{text}}\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegistrationPage } from './registration.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegistrationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegistrationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegistrationPageRoutingModule } from './registration-routing.module';\n\nimport { RegistrationPage } from './registration.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RegistrationPageRoutingModule\n  ],\n  declarations: [RegistrationPage]\n})\nexport class RegistrationPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24ucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ShareService } from '../services/share.service';\r\nimport { Router } from '@angular/router';\r\nimport { NavController } from '@ionic/angular';\r\nimport { FirebaseAuthentication } from '@ionic-native/firebase-authentication/ngx'\r\n\r\n@Component({\r\n  selector: 'app-registration',\r\n  templateUrl: './registration.page.html',\r\n  styleUrls: ['./registration.page.scss'],\r\n})\r\nexport class RegistrationPage implements OnInit {\r\n\r\n  public registrationForm: FormGroup;\r\n  public mode: String;\r\n  verificationId: any;\r\n  text: any = 'begining'\r\n  \r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private shareService: ShareService,\r\n    private router: Router,\r\n    public navCtrl: NavController,\r\n    private firebaseAuth: FirebaseAuthentication\r\n  ) { \r\n    this.registrationForm = this.fb.group({\r\n      name: [null, [Validators.required, Validators.minLength(3)]],\r\n      address: [null, [Validators.required]],\r\n      pinCode: [null, [Validators.required, Validators.minLength(6), Validators.maxLength(6)]],\r\n      phoneNo: [null, [Validators.required, Validators.minLength(10), Validators.maxLength(10)]],\r\n      title: [null, [Validators.required]],\r\n      description: [null, [Validators.required]],\r\n      // city: [null],\r\n      // state: [null]\r\n    })\r\n    this.firebaseAuth.onAuthStateChanged().subscribe(userInfo=> {\r\n      if (userInfo) {\r\n          this.navCtrl.navigateRoot['/list']\r\n      } else {\r\n        this.navCtrl.navigateRoot['']\r\n\r\n          // user was signed out\r\n      }\r\n  });\r\n  }\r\n\r\n  get errorControl() {\r\n    return this.registrationForm.controls;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.mode = this.shareService.getData('mode');\r\n  }\r\n\r\n  register(mode: String){\r\n    console.log(\"user\", this.registrationForm.value);\r\n    localStorage.setItem('user', JSON.stringify(this.registrationForm.value));\r\n    this.shareService.setData('flag',mode);\r\n    this.phoneAuth();\r\n    // this.router.navigate(['/list',])\r\n\r\n  }\r\n  phoneAuth(){\r\n    let tel = `+91${this.registrationForm.get('phoneNo').value}`;\r\n    this.firebaseAuth.verifyPhoneNumber(tel, 60).then(verifyId=>{\r\n      this.verificationId = verifyId;\r\n      this.text = \"going to verify\"\r\n      setTimeout(()=>{this.signInCode()}, 1000)\r\n    }).catch(err=>{\r\n      console.log(err);\r\n      this.text = 'Login Failed'\r\n    })\r\n  }\r\n  signInCode(){\r\n    this.firebaseAuth.signInWithVerificationId(this.verificationId, 123456).then(user=>{\r\n      console.log(user);\r\n      this.text = 'verified!'\r\n    }).catch(err => {\r\n      console.log(err);\r\n      this.text = 'verification Failed'\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}